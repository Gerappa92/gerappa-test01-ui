(this["webpackJsonpgerappa-test01"]=this["webpackJsonpgerappa-test01"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"apiUrl":"https://gerappa-test01-api.azurewebsites.net/api/","local":"https://localhost:44301/api/"}')},23:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(21),i=n.n(l),c=(n(28),n(29),n(3)),o=n(4),p=n(6),u=n(5),s=n(14),h=n(1),m=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Hello Gerappa Pizza!")),r.a.createElement("div",null,r.a.createElement("p",null,"Welcome to my pizza house :)")))}}]),n}(a.Component),z=n(13),d=n(11),f=n(10),b=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).deletePizza=function(){fetch(f.apiUrl+"pizza/"+e.props.pizza.id,{method:"delete",headers:{"Content-Type":"application/json"}}).then((function(){e.props.refreshMenu&&e.props.refreshMenu()}))},e}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,this.props.pizza.name," "),this.props.pizza.vegetarian&&r.a.createElement("p",{style:{color:"green",paddingLeft:"5px"}},"V"),r.a.createElement("p",null,this.props.pizza.price," z\u0142"),r.a.createElement("div",null,r.a.createElement("p",null,this.props.pizza.description)),r.a.createElement("button",null,r.a.createElement(s.b,{to:"/Order/".concat(this.props.pizza.name)},"Order")),r.a.createElement("button",{style:{color:"red"},onClick:this.deletePizza},"Delete"))}}]),n}(a.Component),E=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Name:"," ",r.a.createElement("input",{type:"text",name:"name",value:this.props.pizza.name,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"Description:"," ",r.a.createElement("input",{type:"text",name:"description",value:this.props.pizza.description,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"Price:"," ",r.a.createElement("input",{type:"number",name:"price",value:this.props.pizza.price,disabled:!0})),r.a.createElement("label",null,"Vegetarian:"," ",r.a.createElement("input",{type:"checkbox",name:"vegetarian",checked:this.props.pizza.vegetarian,onChange:this.props.handleInputChange})))}}]),n}(a.Component),g=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setError=function(e){a.setState({errorMsg:e})},a.handleInputName=function(e){e.length>3&&fetch(f.apiUrl+"pizza/names/"+e).then((function(e){return e.json()})).then((function(e){e instanceof Array&&e.length>0?a.setError("Istnieje pizza o takiej nazwie"):a.setError("")}))},a.handleInputChange=function(e){var t,n=e.target,r=n.name;if(t="vegetarian"===r?n.checked:n.value,"name"===a.name&&a.handleInputName(t),"description"===r){var l=String(t).split(",").length,i=l>3?5*l+10:20;a.setState((function(e){return{pizza:Object(d.a)(Object(d.a)({},e.pizza),{},{price:i})}}))}a.setState((function(e){return{pizza:Object(d.a)(Object(d.a)({},e.pizza),{},Object(z.a)({},r,t))}}))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.refreshMenu;a.state.errorMsg.length>0||(a.state.pizza.description&&a.state.pizza.name?(a.setState({errorMsg:""}),fetch(f.apiUrl+"pizza/create",{method:"post",body:JSON.stringify(a.state.pizza),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.json());t()})).catch((function(e){console.error(e)}))):a.setState({errorMsg:"Uzupe\u0142nij pola!"}))},a.state={errorMsg:"",pizza:{name:"",description:"sos pomidorowy, ser, bazylia",price:20,vegetarian:!0}},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.refreshMenu()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Menu")),r.a.createElement("div",null,r.a.createElement("p",null,"The best pizza in the town"),this.props.pizza.map((function(t){return r.a.createElement(b,{key:t.id,pizza:t,refreshMenu:e.refreshMenu})}))),r.a.createElement("div",null,r.a.createElement("h3",null,"You can create your own pizza here! :)"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(E,{pizza:this.state.pizza,handleInputChange:this.handleInputChange}),0===this.state.errorMsg.length&&r.a.createElement("input",{type:"submit",value:"submit"})),r.a.createElement("p",{style:{color:"red"}},this.state.errorMsg)))}}]),n}(a.Component),v=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("label",null,"Name:"," ",r.a.createElement("input",{type:"text",name:"name",value:this.props.client.name,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"Phone number:"," ",r.a.createElement("input",{type:"text",name:"phoneNumber",value:this.props.client.phoneNumber,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"House Number:"," ",r.a.createElement("input",{type:"text",name:"houseNumber",value:this.props.client.houseNumber,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"Flat Number:"," ",r.a.createElement("input",{type:"text",name:"flatNumber",value:this.props.client.flatNumber,onChange:this.props.handleInputChange}))),r.a.createElement("div",null,r.a.createElement("label",null,"Zip code:"," ",r.a.createElement("input",{type:"text",name:"zipCode",value:this.props.client.zipCode,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"City:"," ",r.a.createElement("input",{type:"text",name:"city",value:this.props.client.city,onChange:this.props.handleInputChange})),r.a.createElement("label",null,"Street:"," ",r.a.createElement("input",{type:"text",name:"street",value:this.props.client.street,onChange:this.props.handleInputChange}))))}}]),n}(a.Component),y=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.props.pizza.name," - ",this.props.client.name),r.a.createElement("p",null,this.props.client.city," ",this.props.client.street))}}]),n}(a.Component),j=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getOrders=function(){fetch(f.apiUrl+"order/all").then((function(e){return e.json()})).then((function(e){e instanceof Array&&e.length>0&&a.setState({orders:e})}))},a.handleClientInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState((function(e){return{client:Object(d.a)(Object(d.a)({},e.client),{},Object(z.a)({},n,r))}}))},a.handleSubmit=function(e){e.preventDefault(),fetch(f.apiUrl+"order/create",{method:"post",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.json());a.getOrders()})).catch((function(e){console.error(e)}))},a.state={pizza:{name:a.props.match.params.name,description:"",price:20,vegetarian:!1},client:{name:"",phoneNumber:"",houseNumber:"",flatNumber:"",zipCode:"",city:"",street:""},orders:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(f.apiUrl+"pizza/names/"+this.state.pizza.name).then((function(e){return e.json()})).then((function(t){if(t instanceof Array&&t.length>0){var n=t[0];e.setState({pizza:n})}})),this.getOrders()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Order")),r.a.createElement("div",null,r.a.createElement("p",null,"This is a place where you can order the pizza!")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Pizza ",this.state.name),r.a.createElement("div",null,r.a.createElement(E,{handleInputChange:function(){return 0},pizza:this.state.pizza})),r.a.createElement("h3",null,"Delivery information:"),r.a.createElement("div",null,r.a.createElement(v,{handleInputChange:this.handleClientInputChange,client:this.state.client})),r.a.createElement("input",{type:"submit",value:"submit"})),this.state.orders.map((function(e){return r.a.createElement(y,{pizza:e.pizza,client:e.client})})))}}]),n}(a.Component),O=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getMenu=function(){fetch(f.apiUrl+"pizza/all").then((function(e){return e.json()})).then((function(e){return a.setState({pizza:e})})).catch((function(e){return console.error("Menu problem:",e)}))},a.state={pizza:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getMenu()}},{key:"render",value:function(){return r.a.createElement(s.a,null,r.a.createElement(s.b,{to:""},"Gerappa Pizza"),r.a.createElement(s.b,{to:"/Menu"},"Menu"),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/Menu"},r.a.createElement(g,{pizza:this.state.pizza,refreshMenu:this.getMenu})),r.a.createElement(h.a,{path:"/Order/:name",component:j}),r.a.createElement(h.a,{exact:!0,path:""},r.a.createElement(m,null))))}}]),n}(a.Component);var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,"Gerappa Pizza"),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.d29c6522.chunk.js.map